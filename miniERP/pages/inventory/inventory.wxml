<!-- 库存管理页面 -->
<view class="container">
  <view class="search-section">
    <input class="search-input" placeholder="搜索产品名称或编号" bindinput="onSearchInput" value="{{searchKeyword}}" />
    <button class="search-btn" bindtap="searchInventory">搜索</button>
  </view>

  <view class="stats-section">
    <view class="stats-card">
      <text class="stats-number">{{totalProducts}}</text>
      <text class="stats-label">总产品数</text>
    </view>
    <view class="stats-card warning">
      <text class="stats-number">{{lowStockProducts}}</text>
      <text class="stats-label">库存告急</text>
    </view>
    <view class="stats-card danger">
      <text class="stats-number">{{outOfStockProducts}}</text>
      <text class="stats-label">缺货产品</text>
    </view>
  </view>

  <view class="filter-section">
    <view class="filter-tabs">
      <view class="tab {{filterType === 'all' ? 'active' : ''}}" bindtap="setFilter" data-type="all">全部</view>
      <view class="tab {{filterType === 'low' ? 'active' : ''}}" bindtap="setFilter" data-type="low">库存告急</view>
      <view class="tab {{filterType === 'out' ? 'active' : ''}}" bindtap="setFilter" data-type="out">缺货</view>
    </view>
  </view>

  <view class="inventory-list">
    <view class="inventory-item" wx:for="{{filteredInventory}}" wx:key="id">
      <view class="product-info">
        <image src="{{item.image}}" class="product-image"></image>
        <view class="product-details">
          <text class="product-name">{{item.name}}</text>
          <text class="product-code">编号: {{item.code}}</text>
          <text class="product-price">价格: ¥{{item.price}}</text>
        </view>
      </view>
      
      <view class="stock-info">
        <view class="stock-amount {{getStockClass(item.stock)}}">
          <text class="stock-number">{{item.stock}}</text>
          <text class="stock-unit">件</text>
        </view>
        <button class="adjust-btn" bindtap="adjustStock" data-id="{{item.id}}">调整</button>
      </view>
    </view>
  </view>

  <view class="empty-state" wx:if="{{filteredInventory.length === 0}}">
    <image src="/images/empty-inventory.png" class="empty-image"></image>
    <text class="empty-text">暂无库存数据</text>
  </view>
</view>